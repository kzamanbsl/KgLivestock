@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout_Admin.cshtml";
    int sl = 1;
}
@model MilkReportVM

@section style{
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.css" />

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
    <style>
        #example thead th,
        #example tfoot td {
            text-align: center;
        }

        #PrintButton {
            float: right;
        }
    </style>


}
<section>
    <div class="container  w-75">
        <div class="mt-5 mb-2">
            <h2> Milk Report</h2>
            <form asp-controller="Report" asp-action="MilkReport" method="post">




                <div class="row p-4">
                    <div class="col-md-5 ">
                        <label for="startDate">Start Date:</label>
                        <input asp-for="StartDate" type="date" value="@Model.StartDate.ToString("yyyy-MM-dd")" class="form-control" id="startDate">
                    </div>
                    <div class="col-md-5">
                        <label for="endDate">End Date:</label>
                        <input asp-for="EndDate" type="date" value="@Model.EndDate.ToString("yyyy-MM-dd")" class="form-control" id="endDate">
                    </div>
                    <div class="col-md-2 mt-4">
                        <button class="btn btn-primary d-block form-control mt-1" id="showButton">Show</button>
                    </div>

                </div>


                <div class="col-sm-2 mt-1 mb-2 p-3" id="PrintButton">

                    @if (Model != null)
                    {
                        <button formtarget="_blank" formaction="/Report/MilkReportPrint" class="btn btn-secondary  form-control">Print</button>

                    }


                </div>


            </form>
        </div>



       
        <table id="example" class="display w-100 text-center table border" cellspacing="0">
            <thead>
                <tr>
                    <th>SN</th>
                    <th>Date</th>
                    <th>Tag Number</th>
                    <th>Day Milk</th>
                </tr>
            </thead>
            <tbody>
                @if (Model != null)
                {

                    @foreach (var cow in Model.ListMilkReportVM)
                    {
                        <tr>
                            <td>@sl</td>
                            <td>@cow.Day</td>
                            <td>@cow.CowTagId</td>
                            <td>@cow.TotalMilk.ToString("F2")</td>
                        </tr>
                        sl++;
                    }

                }
            </tbody>
            <tfoot>
                @if (Model != null)
                {
                    <tr>
                        <td> Total Day: @Model.tottalDay</td>
                        <td>Total Cow: @Model.TotalCow</td>
                        <td>Total Milk: @Model.TotalCowMilk.ToString("F2")</td>
                    </tr>
                }
            </tfoot>
        </table>
    </div>
</section>
@section Scripts{
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.js"></script>
}

<script type="text/javascript">

    $(document).ready(function () {
        $('#ReportMenu').addClass('menu-open');
        $('#MilkReport').addClass('active');
        var table = $('#example').DataTable({
            order: [[0, 'desc']]
        });

    });
</script>


